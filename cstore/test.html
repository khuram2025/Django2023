document.addEventListener("DOMContentLoaded", function () {
  const cartItems = JSON.parse(localStorage.getItem('cartItems')) || {};
  const selectedCustomer = localStorage.getItem('selectedCustomer') || '';

  // Populate the customer search input and cart items on page load
  document.getElementById('customer-search').value = selectedCustomer;
  updateCart();
  
  // ... Your existing code ...

  // Define a function to update the cart and order summary
  function updateCart() {
      // Your existing code for updating the cart UI
      // ...

      // Update the Order Summary UI
      // Calculate subtotal, tax, and total based on cartItems
      // Update the corresponding HTML elements with new values
  }
  
  // ... Rest of your existing code ...

  // Handle the "Refresh Order" button click event
  window.refreshOrder = function () {
      localStorage.removeItem('cartItems');
      localStorage.removeItem('selectedCustomer');
      cartItems = {};
      document.getElementById('customer-search').value = '';
      updateCart();
  }
});
